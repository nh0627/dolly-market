<template>
  <div class="box content">
    <h4 class="title">Selling a new item</h4>
    <ItemForm :submit-form="registerNewItem" />
  </div>
</template>

<script>
import ItemForm from "@/components/Item/ItemForm"

export default {
  components: {
    ItemForm,
  },
  methods: {
    // Todo: ì•„ë˜ ìƒì„± ë¡œì§ ìŠ¤í† ì–´ë¡œ ì´ë™
    async registerNewItem(item) {
      try {
        item.userId = this.$auth.user.pid
        await this.$axios.post(`/api/items`, item)
        // Todo: ìƒì„± í–ˆìœ¼ë‹ˆ ë¼ìš°íŠ¸ ì´ë™
        this.$buefy.snackbar.open(`Your item has been registeredğŸ˜`)
      } catch (e) {
        this.$buefy.snackbar.open(`There was an issue. ğŸ¤”ğŸ¤” Please Try again.`)
      }
    },
  },
}
</script>